import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import * as Localization from 'expo-localization';

const resources = {
    en: {
        translation: {
            welcome: 'Welcome to Azmita',
            select_language: 'Select your language',
            azmitar: 'Azmitar',
            vault: 'Vault',
            scan_chip: 'Scan NFC Chip',
            authenticating: 'Authenticating...',
            success: 'Success',
            error: 'Error',
            category_luxury: 'Luxury',
            category_art: 'Art',
            category_automotive: 'Automotive',
            start_activation: 'Start Activation',
            processing_blockchain: 'Processing on Blockchain...',
            azmitado: 'AZMITADO',
            inspector: 'Inspector',
            scan_tag: 'Scan Tag',
            reading: 'Reading...',
            subscan_view: 'View on Explorer',
            hash_detected: 'Hash Detected',
            ready_to_scan: 'Ready to Write',
            settings: 'Settings',
            language: 'Language',
            wallet_info: 'Wallet Information',
            network: 'Network',
            network_status: 'Connected',
            version: 'Version',
            app_info: 'Application Info',
            developed_by: 'Developed by',
            wallet_address: 'Wallet Address',
            copy_seed: 'Copy Phrase',
            gas_less: 'Gas-Less Activation',
            sun_verified: 'SUN Verified (Single Truth)',
            locked_status: 'Phygital Lock Active',
            connected_to: 'Connected to',
            instruction_scan: 'Tap a tag to inspect its internal content',
            tech_types: 'TECHNOLOGIES',
            ndef_message: 'NDEF MESSAGE',
            copy_address: 'Copy Address',
            edit_wallet: 'Edit',
            enter_address: 'Enter Wallet Address',
            vault_empty: 'Vault is empty',
            vault_empty_sub: 'Bind your first physical asset to start',
            azmit_failed: 'Azmitization failed',
            scan_failed: 'Could not read tag',
            save_failed: 'Could not save record',
            account_management: 'MY ACCOUNT',
            total_balance: 'AVAILABLE BALANCE',
            generate_new: 'GENERATE NEW',
            generate_wallet_title: 'Generate New Wallet',
            generate_wallet_warn: 'This will replace your current key. Make sure to back up your seed phrase.',
            new_wallet_created: 'New Wallet Created!',
            write_config: 'NFC CONFIG',
            date: 'DATE',
            time: 'TIME',
            custom_text: 'CUSTOM METADATA',
            placeholder_metadata: 'Enter additional information...',
            confirm_write: 'AZMITAR NOW',
            save_record: 'SAVE CHANGES',
            select_network: 'Select Network',
            network_mainnet: 'Azmita Mainnet',
            network_polkadot: 'Polkadot Network',
            network_assethub_westend: '(TestNet) Assethub Westend',
            network_dev: 'Network Dev',
            seed_phrase: 'Seed Phrase',
            show_seed: 'Show Seed Phrase',
            hide_seed: 'Hide Seed Phrase',
            mnemonic_warn: 'This phrase allows total access to your funds. NEVER share it and keep it in a safe place (offline).',
            wizard_title: 'New Wallet',
            wizard_step1_title: 'Step 1: Security',
            wizard_step1_desc: 'Your recovery phrase is the master key. If you lose it, you will lose access to your assets permanently.',
            wizard_step2_title: 'Step 2: Your Phrase',
            wizard_step2_desc: 'Copy these 12 words and store them offline.',
            wizard_step3_title: 'Step 3: Verify',
            wizard_step3_desc: 'Please enter word #',
            wizard_verify: 'Verify & Finish',
            wizard_error_verify: 'Word does not match. Please check your phrase.',
            wizard_finish: 'Wallet Secured',
            recover_title: 'Import',
            recover_desc: 'Enter your 12 words separated by spaces.',
            recover_btn: 'Import Now',
            recover_success: 'Wallet recovered successfully',
            recover_error: 'Invalid seed phrase. Please check the words.',
            tab_account: 'ACCOUNT',
            tab_network: 'NETWORK',
            tab_about: 'ABOUT',
            wallet: 'Wallet',
            receive: 'Receive',
            send: 'Send',
            send_tokens: 'Send Tokens',
            recipient_address: 'Recipient Address',
            amount: 'Amount',
            available_balance: 'Available',
            estimated_fee: 'Estimated Fee',
            confirm_send: 'Confirm & Send',
            transaction_sent: 'Transaction Sent Successfully',
            transaction_failed: 'Transaction Failed',
            your_address: 'Your Address',
            recent_transactions: 'Recent Transactions',
            saved_wallets: 'Saved Wallets',
            add_wallet: 'Add New Wallet',
            wallet_name: 'Wallet Name',
            wallet_network: 'Network for this wallet',
            activate: 'Activate',
            activated: 'Activated',
            wallet_activated: 'Wallet and Network Activated!',
            save_wallet: 'Save Wallet',
            delete_wallet: 'Delete',
            // Security
            tab_security: 'SECURITY',
            security: 'Security',
            protection_active: 'Protection Active',
            protection_inactive: 'Protection Inactive',
            pin_change: 'CHANGE ACCESS PIN',
            pin_require_title: 'REQUIRE PIN FOR:',
            action_send_funds: 'Send Funds',
            action_azmit_asset: 'Azmit (Write Chip)',
            action_view_seed: 'View Seed Phrase',
            action_delete_wallet: 'Delete Wallet',
            pin_setup_success: 'PIN configured successfully',
            enter_pin: 'Enter PIN',
            confirm_pin: 'Confirm PIN',
            set_pin: 'Set new PIN',
            pin_mismatch: 'PINs do not match',
            pin_incorrect: 'Incorrect PIN',
            biometrics_unavailable: 'Biometrics unavailable',
            re_enter_code: 'Re-enter code',
            protect_assets: 'Protect your assets',
            seed_not_found: 'Seed phrase not found',
            fill_all_fields: 'Please fill all fields',
            insufficient_balance: 'Insufficient balance',
            confirm_send_body: 'Send {{amount}} {{symbol}} to:\n{{address}}...?',
            cancel: 'Cancel',
            confirm: 'Confirm',
            ok: 'OK',
        }
    },
    es: {
        translation: {
            welcome: 'Bienvenido a Azmita',
            // ... existing items ...
            // Truncated for brevity in prompt context but in reality should match existing
            // Since replace_file_content replaces a chunk, I need to be careful not to delete existing ES items.
            // I will target the end of ES translation object.
            wallet_activated: '¡Cartera y Red Activadas!',
            save_wallet: 'GUARDAR',
            delete_wallet: 'Eliminar',
            // Security
            tab_security: 'SEGURIDAD',
            security: 'Seguridad',
            protection_active: 'Protección Activa',
            protection_inactive: 'Protección Desactivada',
            pin_change: 'CAMBIAR PIN DE ACCESO',
            pin_require_title: 'REQUERIR PIN PARA:',
            action_send_funds: 'Enviar Fondos',
            action_azmit_asset: 'Azmitar (Grabar Chip)',
            action_view_seed: 'Ver Frase Semilla',
            action_delete_wallet: 'Eliminar Cartera',
            pin_setup_success: 'PIN configurado correctamente',
            enter_pin: 'Ingresa tu PIN',
            confirm_pin: 'Confirma tu PIN',
            set_pin: 'Configura tu PIN',
            pin_mismatch: 'Los PINs no coinciden',
            pin_incorrect: 'PIN Incorrecto',
            biometrics_unavailable: 'Biometría no disponible',
            re_enter_code: 'Vuelve a ingresar el código',
            re_enter_code: 'Vuelve a ingresar el código',
            protect_assets: 'Protege tus activos',
            seed_not_found: 'No se encontró la frase semilla',
            fill_all_fields: 'Por favor completa todos los campos',
            insufficient_balance: 'Saldo insuficiente',
            confirm_send_body: 'Enviar {{amount}} {{symbol}} a:\n{{address}}...?',
            cancel: 'Cancelar',
            confirm: 'Confirmar',
            ok: 'OK',
        }
    }
};

const getLanguage = () => {
    const locales = Localization.getLocales();
    if (locales && locales.length > 0 && locales[0].languageCode) {
        return locales[0].languageCode;
    }
    return 'en';
};

i18n
    .use(initReactI18next)
    .init({
        resources,
        lng: getLanguage(),
        fallbackLng: 'en',
        interpolation: {
            escapeValue: false,
        }
    });

export default i18n;
